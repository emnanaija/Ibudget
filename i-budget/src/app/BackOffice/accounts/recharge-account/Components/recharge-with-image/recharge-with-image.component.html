<div class="recharge-with-image-container">
  <h3><i class="fas fa-camera"></i> Recharge Account with Image (OCR)</h3>

  <div class="form-group">
    <label for="simCardId"><i class="fas fa-sim-card"></i> Sim Card ID:</label>
    <div class="input-with-icon">
      <i class="fas fa-id-card input-icon"></i>
      <input type="number" id="simCardId" [(ngModel)]="simCardId" placeholder="Enter Sim Card ID">
    </div>
  </div>

  <div class="form-group">
    <label for="image"><i class="fas fa-image"></i> Select Image:</label>
    <div class="file-input-container">
      <input type="file" id="image" (change)="onFileSelected($event)" class="file-input">
      <div class="file-input-label">
        <i class="fas fa-upload"></i>
        <span *ngIf="!selectedFile">Choose a recharge card image</span>
        <span *ngIf="selectedFile">{{ selectedFile.name }}</span>
      </div>
    </div>
  </div>

  <button (click)="rechargeClicked()" [disabled]="isRechargingWithImage || !selectedFile || !simCardId" class="recharge-button">
    <span *ngIf="!isRechargingWithImage">
      <i class="fas fa-magic"></i> Recharge with Image
    </span>
    <span *ngIf="isRechargingWithImage" class="processing-animation">
      <div class="animation-container">
        <i class="fas fa-image image-icon"></i>
        <i class="fas fa-cog cog-icon"></i>
        <i class="fas fa-wallet wallet-icon"></i>
        <div class="pulse-circle"></div>
      </div>
      <span class="processing-text">Processing Image...</span>
    </span>
  </button>

  <div *ngIf="imageRechargeResult" class="success-message">
    <i class="fas fa-check-circle"></i> Recharge with Image Successful!
    <pre>{{ imageRechargeResult | json }}</pre>
  </div>

  <div *ngIf="imageRechargeError" class="error-message">
    <i class="fas fa-exclamation-circle"></i> Error: {{ imageRechargeError }}
  </div>
  
  <div class="notification-info">
    <i class="fas fa-info-circle"></i> Upload a clear image of your recharge card for automatic processing.
  </div>
</div>
